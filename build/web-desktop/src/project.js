require=function o(i,e,t){function a(r,c){if(!e[r]){if(!i[r]){var s="function"==typeof require&&require;if(!c&&s)return s(r,!0);if(n)return n(r,!0);var d=new Error("Cannot find module '"+r+"'");throw d.code="MODULE_NOT_FOUND",d}var u=e[r]={exports:{}};i[r][0].call(u.exports,function(o){var e=i[r][1][o];return a(e||o)},u,u.exports,o,i,e,t)}return e[r].exports}for(var n="function"==typeof require&&require,r=0;r<t.length;r++)a(t[r]);return a}({Gerador:[function(o,i,e){"use strict";cc._RF.push(i,"e2e01V+VzVLV4RvJLZhwTOc","Gerador"),cc.Class({extends:cc.Component,properties:{inimigoPrefab:cc.Prefab,area:10,tempo:2,espera:3},onLoad:function(){this.scheduleOnce(this.iniciarGeracao,this.espera)},iniciarGeracao:function(){this.schedule(this.gerar,this.tempo)},gerar:function(){var o=cc.instantiate(this.inimigoPrefab);o.parent=this.node.parent;var i=new cc.Vec2(Math.random()-.5,Math.random()-.5);i=(i=i.normalize()).mul(this.area),i=this.node.position.add(i),o.position=i}}),cc._RF.pop()},{}],Inimigo:[function(o,i,e){"use strict";cc._RF.push(i,"a928aV+BwxFx42IviGc56Ob","Inimigo");var t=o("Personagem");cc.Class({extends:t,properties:{_alvo:cc.Node,velocidade:50,tempoAtaque:1},onLoad:function(){this._alvo=cc.find("hero"),this.schedule(this.atirar,this.tempoAtaque)},tomarDano:function(){this._alvo.getComponent("Jogador").adicionarPonto(10),this.node.destroy()},atirar:function(){var o=cc.instantiate(this.tiroPrefab);o.parent=this.node.parent,o.position=this.node.position,o.group=this.node.group,o.getComponent("Tiro").direcao=this._direcao},mudarDirecao:function(){var o=this._alvo.position.sub(this.node.position);o=o.normalize(),this._direcao=o},update:function(o){this.mudarDirecao();var i=this._direcao.mul(this.velocidade*o);this.node.position=this.node.position.add(i)}}),cc._RF.pop()},{Personagem:"Personagem"}],Jogador:[function(o,i,e){"use strict";cc._RF.push(i,"708fcUTuIJLuJQFnqcFGhqJ","Jogador");var t=o("Personagem");cc.Class({extends:t,properties:{_acelerando:!1,_vidaAtual:0,vidaMaxima:100,velocidade:10,barraVida:cc.ProgressBar,pontuacao:0,label:cc.Label},onLoad:function(){this._vidaAtual=this.vidaMaxima,cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.teclaPressionada,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,this.teclaSolta,this);var o=cc.find("Canvas");o.on("mousemove",this.mudarDirecao,this),o.on("mousedown",this.atirar,this),cc.director.getCollisionManager().enabled=!0,this.barraVida.progress=1},adicionarPonto:function(o){this.pontuacao+=o,this.label.string="Pontos: "+this.pontuacao},tomarDano:function(o){this._vidaAtual-=o;var i=this._vidaAtual/this.vidaMaxima;this.barraVida.progress=i,this._vidaAtual<0&&cc.director.loadScene("GameOver")},mudarDirecao:function(o){var i=o.getLocation(),e=(i=new cc.Vec2(i.x,i.y)).sub(this.node.position);e=e.normalize(),this._direcao=e},teclaPressionada:function(o){o.keyCode==cc.KEY.a&&(this._acelerando=!0)},teclaSolta:function(o){o.keyCode==cc.KEY.a&&(this._acelerando=!1)},update:function(o){if(this._acelerando){var i=this._direcao.mul(this.velocidade*o);this.node.position=this.node.position.add(i)}}}),cc._RF.pop()},{Personagem:"Personagem"}],Personagem:[function(o,i,e){"use strict";cc._RF.push(i,"26d12/7QQNGuaGkpFxguxQZ","Personagem");var t=cc.Class({extends:cc.Component,properties:{tiroPrefab:cc.Prefab,_direcao:cc.Vec2},onLoad:function(){},atirar:function(){var o=cc.instantiate(this.tiroPrefab);o.parent=this.node.parent,o.position=this.node.position,o.group=this.node.group,o.getComponent("Tiro").direcao=this._direcao},tomarDano:function(){}});i.exports=t,cc._RF.pop()},{}],Tiro:[function(o,i,e){"use strict";cc._RF.push(i,"141bfnG/QBBiYpcfJo4hnpr","Tiro"),cc.Class({extends:cc.Component,properties:{direcao:cc.Vec2,velocidade:10},onLoad:function(){this.direcao=this.direcao.normalize()},onCollisionEnter:function(o,i){var e=o.getComponent("Personagem");null!=e?e.tomarDano(2):o.node.destroy(),i.node.destroy()},update:function(o){var i=this.direcao.mul(this.velocidade*o);this.node.position=this.node.position.add(i)}}),cc._RF.pop()},{}]},{},["Gerador","Inimigo","Jogador","Personagem","Tiro"]);