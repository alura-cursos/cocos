{"version":3,"sources":["Inimigo.js"],"names":["Personagem","require","cc","Class","extends","properties","_alvo","Node","velocidade","tempoAtaque","onLoad","find","schedule","atirar","tomarDano","jogador","getComponent","adicionarPonto","node","destroy","disparo","instantiate","tiroPrefab","parent","position","group","componenteTiro","direcao","_direcao","mudarDirecao","sub","normalize","update","dt","deslocamento","mul","add"],"mappings":";;;;;;AAAA,IAAIA,aAAaC,QAAQ,YAAR,CAAjB;AACAC,GAAGC,KAAH,CAAS;AACLC,aAASJ,UADJ;;AAGLK,gBAAY;;AAERC,eAAMJ,GAAGK,IAFD;AAGRC,oBAAa,EAHL;AAIRC,qBAAa;;AAJL,KAHP;;AAWL;AACAC,YAAQ,kBAAY;AAChB,aAAKJ,KAAL,GAAaJ,GAAGS,IAAH,CAAQ,MAAR,CAAb;AACA,aAAKC,QAAL,CAAc,KAAKC,MAAnB,EAA2B,KAAKJ,WAAhC;AAEH,KAhBI;;AAkBLK,eAAU,qBACV;AACI,YAAIC,UAAU,KAAKT,KAAL,CAAWU,YAAX,CAAwB,SAAxB,CAAd;AACAD,gBAAQE,cAAR,CAAuB,EAAvB;AACA,aAAKC,IAAL,CAAUC,OAAV;AACH,KAvBI;;AAyBLN,YAAQ,kBACR;AACI,YAAIO,UAAUlB,GAAGmB,WAAH,CAAe,KAAKC,UAApB,CAAd;AACAF,gBAAQG,MAAR,GAAiB,KAAKL,IAAL,CAAUK,MAA3B;AACAH,gBAAQI,QAAR,GAAmB,KAAKN,IAAL,CAAUM,QAA7B;AACAJ,gBAAQK,KAAR,GAAgB,KAAKP,IAAL,CAAUO,KAA1B;AACA,YAAIC,iBAAiBN,QAAQJ,YAAR,CAAqB,MAArB,CAArB;AACAU,uBAAeC,OAAf,GAAyB,KAAKC,QAA9B;AACH,KAjCI;;AAmCLC,kBAAe,wBACf;AACI,YAAIF,UAAU,KAAKrB,KAAL,CAAWkB,QAAX,CAAoBM,GAApB,CAAwB,KAAKZ,IAAL,CAAUM,QAAlC,CAAd;AACAG,kBAAUA,QAAQI,SAAR,EAAV;AACA,aAAKH,QAAL,GAAgBD,OAAhB;AACH,KAxCI;;AA0CL;AACCK,YAAQ,gBAAUC,EAAV,EAAc;AAClB,aAAKJ,YAAL;AACA,YAAIK,eAAe,KAAKN,QAAL,CAAcO,GAAd,CAAkB,KAAK3B,UAAL,GAAkByB,EAApC,CAAnB;AACA,aAAKf,IAAL,CAAUM,QAAV,GAAqB,KAAKN,IAAL,CAAUM,QAAV,CAAmBY,GAAnB,CAAuBF,YAAvB,CAArB;AACH;AA/CG,CAAT","file":"Inimigo.js","sourceRoot":"../../../assets","sourcesContent":["let Personagem = require(\"Personagem\");\ncc.Class({\n    extends: Personagem,\n\n    properties: {\n\n        _alvo:cc.Node,\n        velocidade : 50,\n        tempoAtaque: 1,\n\n    },\n\n    // use this for initialization\n    onLoad: function () {\n        this._alvo = cc.find(\"hero\");\n        this.schedule(this.atirar, this.tempoAtaque);\n\n    },\n    \n    tomarDano:function()\n    {\n        let jogador = this._alvo.getComponent(\"Jogador\");\n        jogador.adicionarPonto(10);\n        this.node.destroy();    \n    },\n    \n    atirar: function()\n    {\n        let disparo = cc.instantiate(this.tiroPrefab);\n        disparo.parent = this.node.parent;\n        disparo.position = this.node.position;\n        disparo.group = this.node.group;\n        let componenteTiro = disparo.getComponent(\"Tiro\");\n        componenteTiro.direcao = this._direcao;\n    },\n\n    mudarDirecao : function()\n    {\n        let direcao = this._alvo.position.sub(this.node.position);\n        direcao = direcao.normalize();\n        this._direcao = direcao;\n    },\n\n    // called every frame, uncomment this function to activate update callback\n     update: function (dt) {\n         this.mudarDirecao();\n         let deslocamento = this._direcao.mul(this.velocidade * dt);\n         this.node.position = this.node.position.add(deslocamento);\n     },\n});\n"]}