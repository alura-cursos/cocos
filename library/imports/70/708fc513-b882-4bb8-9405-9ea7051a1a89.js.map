{"version":3,"sources":["../../../assets/assets/Jogador.js"],"names":["cc","Class","extends","Component","properties","_acelerando","_direcao","Vec2","onLoad","systemEvent","on","SystemEvent","EventType","KEY_DOWN","teclaPressionada","KEY_UP","teclaSolta","canvas","find","mudarDirecao","event","posicaoMouse","getLocation","x","y","direcao","sub","node","position","normalize","keyCode","KEY","a","update","dt","add"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAC,qBAAY,KAXJ;AAYRC,kBAAUN,GAAGO;AAZL,KAHP;;AAkBL;AACAC,YAAQ,kBAAY;AAChBR,WAAGS,WAAH,CAAeC,EAAf,CAAkBV,GAAGW,WAAH,CAAeC,SAAf,CAAyBC,QAA3C,EAAqD,KAAKC,gBAA1D,EAA4E,IAA5E;AACAd,WAAGS,WAAH,CAAeC,EAAf,CAAkBV,GAAGW,WAAH,CAAeC,SAAf,CAAyBG,MAA3C,EAAmD,KAAKC,UAAxD,EAAoE,IAApE;;AAEA,YAAIC,SAASjB,GAAGkB,IAAH,CAAQ,QAAR,CAAb;AACAD,eAAOP,EAAP,CAAU,WAAV,EAAuB,KAAKS,YAA5B,EAA0C,IAA1C;AAEH,KA1BI;;AA4BLA,kBAAc,sBAASC,KAAT,EACd;AACI,YAAIC,eAAeD,MAAME,WAAN,EAAnB;AACAD,uBAAe,IAAIrB,GAAGO,IAAP,CAAYc,aAAaE,CAAzB,EAA4BF,aAAaG,CAAzC,CAAf;;AAEA,YAAIC,UAAUJ,aAAaK,GAAb,CAAiB,KAAKC,IAAL,CAAUC,QAA3B,CAAd;AACAH,kBAAUA,QAAQI,SAAR,EAAV;AACA,aAAKvB,QAAL,GAAgBmB,OAAhB;AACH,KApCI;;AAsCLX,sBAAkB,0BAASM,KAAT,EAClB;AACI,YAAGA,MAAMU,OAAN,IAAiB9B,GAAG+B,GAAH,CAAOC,CAA3B,EACA;AACI,iBAAK3B,WAAL,GAAmB,IAAnB;AACH;AACJ,KA5CI;;AA8CLW,gBAAW,oBAASI,KAAT,EACX;AACI,YAAGA,MAAMU,OAAN,IAAiB9B,GAAG+B,GAAH,CAAOC,CAA3B,EACA;AACI,iBAAK3B,WAAL,GAAmB,KAAnB;AACH;AAEJ,KArDI;;AAuDL;AACA4B,YAAQ,gBAAUC,EAAV,EAAc;AAClB,YAAG,KAAK7B,WAAR,EACI,KAAKsB,IAAL,CAAUC,QAAV,GAAsB,KAAKD,IAAL,CAAUC,QAAV,CAAmBO,GAAnB,CAAuB,KAAK7B,QAA5B,CAAtB;AAGP;AA7DI,CAAT","file":"Jogador.js","sourceRoot":"../../../assets","sourcesContent":["cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        // foo: {\n        //    default: null,      // The default value will be used only when the component attaching\n        //                           to a node for the first time\n        //    url: cc.Texture2D,  // optional, default is typeof default\n        //    serializable: true, // optional, default is true\n        //    visible: true,      // optional, default is true\n        //    displayName: 'Foo', // optional\n        //    readonly: false,    // optional, default is false\n        // },\n        // ...\n        _acelerando:false,\n        _direcao: cc.Vec2,\n    },\n\n    // use this for initialization\n    onLoad: function () {\n        cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN, this.teclaPressionada, this);\n        cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP, this.teclaSolta, this);\n        \n        let canvas = cc.find(\"Canvas\");\n        canvas.on(\"mousemove\", this.mudarDirecao, this);\n        \n    },\n    \n    mudarDirecao: function(event)\n    {\n        let posicaoMouse = event.getLocation();\n        posicaoMouse = new cc.Vec2(posicaoMouse.x, posicaoMouse.y);\n        \n        let direcao = posicaoMouse.sub(this.node.position);\n        direcao = direcao.normalize();\n        this._direcao = direcao;\n    },\n    \n    teclaPressionada: function(event)\n    { \n        if(event.keyCode == cc.KEY.a)\n        {\n            this._acelerando = true;\n        }\n    },\n\n    teclaSolta:function(event)\n    {\n        if(event.keyCode == cc.KEY.a)\n        {\n            this._acelerando = false;\n        }\n\n    },\n\n    // called every frame, uncomment this function to activate update callback\n    update: function (dt) {\n        if(this._acelerando)\n            this.node.position  = this.node.position.add(this._direcao);    \n            \n            \n    },\n});\n"]}